<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Profile | Legend Motor Limited</title>
    <!--    <link href="../../resources/css/profile.css" rel="stylesheet"/>-->
    <link
      href="../../resources/image/icon_dark.png"
      rel="icon"
      type="image/x-icon"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="module" src="../../resources/js/script.js"></script>
    <script type="module" src="../../resources/js/profile.js"></script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#eff6ff",
                100: "#dbeafe",
                200: "#bfdbfe",
                300: "#93c5fd",
                400: "#60a5fa",
                500: "#3b82f6",
                600: "#2563eb",
                700: "#1d4ed8",
                800: "#1e40af",
                900: "#1e3a8a",
                950: "#172554",
              },
            },
          },
          fontFamily: {
            body: [
              "Inter",
              "ui-sans-serif",
              "system-ui",
              "-apple-system",
              "system-ui",
              "Segoe UI",
              "Roboto",
              "Helvetica Neue",
              "Arial",
              "Noto Sans",
              "sans-serif",
              "Apple Color Emoji",
              "Segoe UI Emoji",
              "Segoe UI Symbol",
              "Noto Color Emoji",
            ],
            sans: [
              "Inter",
              "ui-sans-serif",
              "system-ui",
              "-apple-system",
              "system-ui",
              "Segoe UI",
              "Roboto",
              "Helvetica Neue",
              "Arial",
              "Noto Sans",
              "sans-serif",
              "Apple Color Emoji",
              "Segoe UI Emoji",
              "Segoe UI Symbol",
              "Noto Color Emoji",
            ],
          },
        },
      };
    </script>
    <script>
      function loadInfo() {
        $.ajax({
          url: "../../resources/php/profile.php?action=getInfo",
          type: "GET",
          dataType: "json",
          success: function (data) {
            $firstName = data.name.split(" ")[0];
            $lastName = data.name.split(" ")[1];
            document.getElementById("FullName").innerText = data.name;
            document.getElementById("firstName").innerText = $firstName;
            document.getElementById("lastName").innerText = $lastName;
            document.getElementById("mobileNumber").innerText =
              data.contactNumber;
            document.getElementById("faxNumber").innerText = data.faxNumber;
            document.getElementById("addressLine1").innerText = data.address;
            document.getElementById("email").innerText = data.email;
          },
          error: function (jqXHR, textStatus, errorThrown) {
            console.log("AJAX error:", textStatus, errorThrown);
            console.log("Response:", jqXHR.responseText);
          },
        });
      }
    </script>
  </head>
  <body
    class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white"
    onload="loadInfo();"
  >
    <!-- Navigation -->
    <body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white">
      <nav class="bg-white border-gray-200 dark:bg-gray-900">
        <div
          class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"
        >
          <a class="flex items-center space-x-3 rtl:space-x-reverse" href="#">
            <div class="h-8 w-8 relative">
              <img
                alt="LMC Logo"
                class="absolute inset-0 object-contain dark:hidden pt-2 dark:pt-1"
                src="../../resources/image/LMC.png"
              />
              <img
                alt="LMC Logo"
                class="absolute inset-0 object-contain hidden dark:block"
                src="../../resources/image/LMC_DM.png"
              />
            </div>
            <span
              class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white"
              >LMC</span
            >
          </a>

          <div class="flex items-center md:order-2">
            <!-- Dark mode toggle button -->
            <button
              class="p-2 text-gray-500 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700"
              id="darkModeToggle"
            >
              <svg
                class="w-5 h-5"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                ></path>
              </svg>
            </button>

            <!-- Mobile menu button -->
            <button
              aria-controls="navbar-default"
              aria-expanded="false"
              class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
              id="mobile-menu-button"
              type="button"
            >
              <span class="sr-only">Open main menu</span>
              <svg
                aria-hidden="true"
                class="w-5 h-5"
                fill="none"
                viewBox="0 0 17 14"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1 1h15M1 7h15M1 13h15"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                />
              </svg>
            </button>
          </div>

          <div
            class="hidden w-full md:flex md:w-auto md:order-1"
            id="navbar-default"
          >
            <ul
              class="font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"
            >
              <li>
                <a
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                  href="viewOrderRecord.html"
                  >Order Record</a
                >
              </li>
              <li>
                <a
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                  href="viewVehicle.html"
                  >Vehicle</a
                >
              </li>
              <li>
                <a
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                  href="shoppingCart.html"
                  >Cart</a
                >
              </li>
              <li>
                <a
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                  href="profile.html"
                  >Profile</a
                >
              </li>
              <li>
                <a
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                  href="../../logout.html"
                  onclick="logout()"
                  >Log Out</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <main class="flex-10 flex flex-col items-center justify-center">
        <!-- Profile Section -->
        <div class="container mx-auto px-10 py-10">
          <div
            class="bg-white dark:bg-gray-800 shadow-lg rounded-lg overflow-hidden"
          >
            <div class="md:flex">
              <!-- Left side - User info -->
              <div
                class="md:w-1/3 bg-gray-100 dark:bg-gray-700 p-10 text-center"
              >
                <svg
                  class="mx-auto w-32 h-32 rounded-full border-4 border-white dark:border-none"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                <h2
                  id="FullName"
                  class="mt-4 text-xl font-semibold text-gray-800 dark:text-white"
                ></h2>
                <p id="email" class="text-gray-600 dark:text-gray-300"></p>
              </div>

              <!-- Right side - Profile details -->
              <div class="md:w-2/3 p-10">
                <h3
                  class="text-2xl font-semibold text-gray-800 dark:text-white mb-6"
                >
                  Profile Details
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      First Name
                    </p>
                    <p
                      id="firstName"
                      class="font-medium text-gray-800 dark:text-white"
                    ></p>
                  </div>
                  <div>
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      Last Name
                    </p>
                    <p
                      id="lastName"
                      class="font-medium text-gray-800 dark:text-white"
                    ></p>
                  </div>
                  <div>
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      Mobile Number
                    </p>
                    <p
                      id="mobileNumber"
                      class="font-medium text-gray-800 dark:text-white"
                    ></p>
                  </div>
                  <div>
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      Fax Number
                    </p>
                    <p
                      id="faxNumber"
                      class="font-medium text-gray-800 dark:text-white"
                    ></p>
                  </div>
                  <div class="md:col-span-2">
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      Address Line
                    </p>
                    <p
                      id="addressLine1"
                      class="font-medium text-gray-800 dark:text-white"
                    ></p>
                  </div>
                  <!-- <div class="md:col-span-2">
                            <p class="text-sm text-gray-600 dark:text-gray-400">Address Line 2</p>
                            <p id="addressLine2" class="font-medium text-gray-800 dark:text-white">/</p>
                        </div> -->
                  <!-- <div>
                            <p class="text-sm text-gray-600 dark:text-gray-400">State/Province</p>
                            <p id="stateProvince" class="font-medium text-gray-800 dark:text-white">/</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Country/ Region</p>
                            <p id="country" class="font-medium text-gray-800 dark:text-white">Hong Kong</p>
                        </div> -->
                </div>
                <div class="mt-8">
                  <button
                    onclick="location.href='profileSetting.html'"
                    id="editProfileButton"
                    class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out"
                  >
                    Edit Profile & Change Password
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <script type="module">
          import {
            initializeProfile,
            setupEditButton,
          } from "../../resources/js/profile.js";

          document.addEventListener("DOMContentLoaded", () => {
            initializeProfile();
            setupEditButton();
          });
        </script>
        <!--------------------Profile-------------------->
        <!-- Footer -->
        <footer class="text-center py-4">
          <p class="text-gray-700 dark:text-gray-300">
            © 2024 Legend Motor Limited. All rights reserved.
          </p>
        </footer>
      </main>
      <script type="module" src="../../resources/js/profile.js"></script>
    </body>
  </body>
</html>
