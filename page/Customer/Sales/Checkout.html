<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../../../resources/js/Sales/CustomerDashboard.js"></script>
    <script src="../../../resources/js/Sales/CustomerNavigation.js"></script>
    <script src="../../../resources/js/Sales/Wishlist.js"></script>
    <script src="../../../resources/js/Sales/Checkout.js"></script>
    <script src="../../../resources/js/script.js"></script>
    <link rel="stylesheet" href="../../../resources/css/main.css"/>
    <link rel="icon" href="../../../resources/image/icon_dark.png" type="image/x-icon"/>
    <title>Checkout | Legend Motor Company</title>
    <style>
        .notification {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }

        .success {
            background-color: #dff0d8;
            color: #3c763d;
        }

        .error {
            background-color: #f2dede;
            color: #a94442;
        }

        .info {
            background-color: #d9edf7;
            color: #31708f;
        }

        .hidden {
            display: none;
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid #e5e7eb; /* Tailwind gray-200 */
        }

        .tab-button {
            flex: 1;
            padding: 10px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: bold;
            color: #4b5563; /* Tailwind gray-600 */
        }

        .tab-button.active {
            border-bottom: 2px solid #3b82f6; /* Tailwind blue-500 */
            color: #3b82f6; /* Tailwind blue-500 */
        }

        .tab-content {
            padding-top: 20px;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
<header class="navbar bg-white shadow-md sticky top-0 z-10">
</header>
<div id="notification-container" class="fixed top-4 right-4 z-50"></div>
<main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8" id="Checkout">
    <div id="checkout-container" class="container mx-auto">
        <h1 class="text-3xl font-bold mb-6">Checkout</h1>

        <!-- Order Summary Section -->
        <div id="orderSummaryContainer" class="mb-6 p-4 bg-white shadow rounded-md">
            <h2 class="text-2xl font-bold mb-4">Order Summary</h2>
            <table class="min-w-full divide-y divide-gray-200">
                <tbody id="orderSummary"></tbody>
            </table>

            <!-- Summary Totals -->
            <div id="summaryTotals" class="mt-4">
                <p id="subtotalAmount"></p>
                <p id="totalAmount"></p>
                <p id="DepositAmount"></p>
                <p id="EstimatedDelivery"></p>
            </div>
            <!-- Discount Section -->
            <div class="mt-4 flex items-center">
                <h3 class="text-lg font-medium text-gray-900">Discount</h3>
                <p class="text-sm text-gray-500">
                    <span id="discountAmount" hidden="hidden"></span>
                    <span id="discountPercentage" hidden="hidden"></span>
                </p>
                </div>
                <div class="mt-4 flex items-center">
                    <div class="flex-1">
                        <label for="DiscountCode" class="block text-sm font-medium text-gray-700" hidden="hidden">Discount
                            Code</label>
                        <input type="text" id="DiscountCode"
                               class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                               placeholder="Enter Discount Code">
                        <p class="text-sm text-${discountMessageColor}">
                            <span id="discountMessage"></span>
                        </p>

                        <button id="applyDiscount"
                                class="mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                      clip-rule="evenodd"></path>
                            </svg>
                        </button>
                        <button id="removeDiscount"
                                class="mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 hover:text-white hidden">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                      d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                      clip-rule="evenodd"></path>
                            </svg>
                        </button>
                </div>
            </div>
        </div>
        <!-- Licensing Verification Section -->
        <section id="licensingVerification-container" class="mt-10 border-t border-gray-200">
            <h2 class="text-2xl font-bold mb-6">Licensing Verification</h2>
            <div id="licensingVerificationTabs" class="mt-10 border-t border-gray-200">
                <!-- Tabs Navigation -->
                <div class="tabs" id="licensingVerificationTabs-buttons">
                    <button class="tab-button active" data-tab="yes" id="licensingVerificationYes">Yes</button>
                    <button class="tab-button" data-tab="no" id="licensingVerificationNo">No</button>
                </div>
                <!-- Tab Content -->
                <div class="tab-content">
                    <div id="yes-licensing" class="tab-panel active">
                        <form id="licensingVerificationForm" class="mt-4 grid">
                            <div class="mb-4 grid-item">
                                <label for="licensePlate" class="block text-sm font-medium text-gray-700">License
                                    Plate</label>
                                <input type="text" id="licensePlate" name="licensePlate" required
                                       placeholder="Enter your license plate"
                                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            </div>
                            <div class="mb-4 grid-item">
                                <label for="licenseState" class="block text-sm font-medium text-gray-700">License
                                    State</label>
                                <input type="text" id="licenseState" name="licenseState" required
                                       placeholder="Enter your license state"
                                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            </div>
                            <div class="mb-4 grid-item">
                                <label for="licenseNumber" class="block text-sm font-medium text-gray-700">License
                                    Number</label>
                                <input type="text" id="licenseNumber" name="licenseNumber" required
                                       placeholder="Enter your license number"
                                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            </div>
                            <div class="mb-4 grid-item">
                                <label for="licenseExpiry" class="block text-sm font-medium text-gray-700">License
                                    Expiry</label>
                                <input type="text" id="licenseExpiry" name="licenseExpiry" required
                                       placeholder="Enter your license expiry"
                                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            </div>
                            <div class="mb-4 grid-item">
                                <label for="licenseIssued" class="block text-sm font-medium text-gray-700">License
                                    Issued</label>
                                <input type="text" id="licenseIssued" name="licenseIssued" required
                                       placeholder="Enter your license issued"
                                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            </div>
                        </form>
                    </div>
                    <div id="no-licensing" class="tab-panel">
                        <p class="text-gray-700">You have chosen not to verify your vehicle's license.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Trade-In Option Section -->
        <div id="tradeInOption" class="mt-10 border-t border-gray-200 max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
            <h2 class="text-2xl font-bold mb-6">Trade-In Option</h2>
            <div id="tradeInTabs" class="mt-10 border-t border-gray-200">
                <!-- Tabs Navigation -->
                <div class="tabs" id="tradeInTabs-buttons">
                    <button class="tab-button active" data-tab="yes" id="tradeInYes">Yes</button>
                    <button class="tab-button" data-tab="no" id="tradeInNo">No</button>
                </div>
                <!-- Tab Content -->
                <div class="tab-content">
                    <div id="yes-trade-in" class="tab-panel active">
                        <form id="tradeInForm" class="mt-4 grid">
                            <div class="mb-4 grid-item">
                                <label for="tradeInMake" class="block text-sm font-medium text-gray-700">Make</label>
                                <input type="text" id="tradeInMake" name="tradeInMake"
                                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                                       required placeholder="Enter the make of your vehicle">
                            </div>
                            <div class="mb-4 grid-item">
                                <label for="tradeInModel" class="block text-sm font-medium text-gray-700">Model</label>
                                <input type="text" id="tradeInModel" name="tradeInModel"
                                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                                       required placeholder="Enter the model of your vehicle">
                            </div>
                            <div class="mb-4 grid-item">
                                <label for="tradeInYear" class="block text-sm font-medium text-gray-700">Year</label>
                                <input type="number" id="tradeInYear" name="tradeInYear"
                                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                                       required placeholder="Enter the year of your vehicle">
                            </div>
                            <div class="mb-4 grid-item">
                                <label for="tradeInMileage"
                                       class="block text-sm font-medium text-gray-700">Mileage</label>
                                <input type="number" id="tradeInMileage" name="tradeInMileage"
                                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                                       required placeholder="Enter the mileage of your vehicle">
                            </div>
                            <div class="mb-4 grid-item">
                                <label for="tradeInCondition"
                                       class="block text-sm font-medium text-gray-700">Condition</label>
                                <select id="tradeInCondition" name="tradeInCondition"
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                                        required>
                                    <option value="">Select condition</option>
                                    <option value="excellent">Excellent</option>
                                    <option value="good">Good</option>
                                    <option value="fair">Fair</option>
                                    <option value="poor">Poor</option>
                                </select>
                            </div>
                            <p class="text-gray-700 mt-4">* The trade-in value will be calculated based on your
                                vehicle's condition and mileage.</p>
                        </form>
                    </div>
                    <div id="no-trade-in" class="tab-panel">
                        <p class="text-gray-700">You have chosen not to trade in a vehicle.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Financing Options Section -->
        <div id="financingOptions" class="mt-10 border-t border-gray-200 max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
            <h2 class="text-2xl font-bold mb-6">Financing Options</h2>
            <div id="financingTabs" class="mt-10 border-t border-gray-200">
                <!-- Tabs Navigation -->
                <div class="tabs mt-4">
                    <button class="tab-button active" data-tab="loan-plans">Loan Plans</button>
                    <button class="tab-button" data-tab="payment-methods">Full Payment</button>
                </div>
                <!-- Tab Content -->
                <div class="tab-content">
                    <div id="loan-plans" class="tab-panel active">
                        <label for="financingMethod" class="block text-sm font-medium text-gray-700 mt-4">Select
                            Financing Option:</label>
                        <select id="financingMethod" name="financingMethod"
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 hover:border-blue-500 hover:ring-blue-500">
                            <option value="none" class="mt-2 text-gray-700 hover:text-blue-500">Select a plan...
                            </option>
                            <!-- Loan Plans -->
                            <option value="loan_plan_a" data-interest-rate="0.05" data-term-months="60" class="mt-2">
                                Plan A - $300/month for 60 months (5% APR)
                            </option>
                            <option value="loan_plan_b" data-interest-rate="0.04" data-term-months="36" class="mt-2">
                                Plan B - $400/month for 36 months (4% APR)
                            </option>
                            <option value="loan_plan_c" data-interest-rate="0.03" data-term-months="24" class="mt-2">
                                Plan C - $500/month for 24 months (3% APR)
                            </option>
                        </select>
                        <p class="text-gray-700 mt-4">Since the Deposit is Due today, you will be changed the Deposit
                            Amount</p>
                        <form id="payment-form" class="mt-4">
                            <label for="Select-Loan-Deposit" class="block text-sm font-medium text-gray-700">Select
                                Payment Method</label>
                            <select id="Select-Loan-Deposit"
                                    class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                                <option value="credit_card">Credit Card</option>
                                <option value="paypal">PayPal</option>
                                <option value="cash">Cash</option>
                                <option value="check">Check</option>
                            </select>
                            <div id="payment-full-payment-credit-card" class="hidden">
                                <label for="card-number" class="block text-sm font-medium text-gray-700">Card
                                    Number</label>
                                <input type="text" id="card-number"
                                       class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                                       placeholder="0000 0000 0000 0
                                    0000">
                                <label for="card-expiry" class="block text-sm font-medium text-gray-700">Card
                                    Expiry</label>
                                <input type="text" id="card-expiry"
                                       class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                                       placeholder="MM/YY">
                                <label for="card-cvv" class="block text-sm font-medium text-gray-700">Card CVV</label>
                                <input type="text" id="card-cvv"
                                       class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                                       placeholder="***">
                            </div>
                            <div id="payment-full-payment-paypal" class="hidden">
                                <label for="paypal-email" class="block text-sm font-medium text-gray-700">PayPal
                                    Email</label>
                                <input type="text" id="paypal-email"
                                       class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                                       placeholder="email@example.com">
                            </div>
                            <div id="payment-full-payment-cash" class="hidden">
                                <label for="cash-amount" class="block text-sm font-medium text-gray-700">Cash
                                    Amount</label>
                                <input type="text" id="cash-amount"
                                       class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                                       placeholder="100">
                            </div>
                            <div id="payment-full-payment-check" class="hidden">
                                <label for="check-amount" class="block text-sm font-medium text-gray-700">Check
                                    Amount</label>
                                <input type="text" id="check-amount"
                                       class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                                       placeholder="100">
                            </div>
                        </form>
                        <p class="text-gray-700 mt-4 hover:text-blue-500">* The loan amount will be calculated based on
                            your loan plan and the amount of time you plan to use the vehicle. </p>
                        <p class="text-gray-700 mt-4 hover:text-blue-500">
                            For more information, please see our <a href="#loan-plans" target="_blank"
                                                                    class="text-blue-500 hover:text-blue-600">loan
                            plans</a> page.</p>
                    </div>
                    <div id="payment-full-payment" class="tab-panel">
                        <label for="paymentMethod" class="block text-sm font-medium text-gray-700 mb-4">Select Payment
                            Method:</label>
                        <select id="paymentMethod" name="paymentMethod"
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            <option value="none">Select a method...</option>
                            <option value="cash_payment">Cash Payment - Pay full amount upfront.</option>
                            <option value="credit_card">Credit Card - Pay using a credit card.</option>
                        </select>
                        <p class="text-gray-700">* We will send you a confirmation email with your payment details.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Address Form -->
        <form id="checkoutForm" class="mt-10 border-t grid">
            <h2 class="text-2xl font-bold mb-6">Address</h2>
            <!-- Tabs Navigation -->
            <div class="tabs mb-4">
                <button type="button" class="tab-button active" data-tab="local">Local (Hong Kong)</button>
                <button type="button" class="tab-button" data-tab="overseas">Overseas</button>
            </div>
            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Local Address Fields -->
                <div id="local" class="tab-panel active">
                    <div class="mb-4 grid-item">
                        <label for="fullName" class="block text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" id="fullName" name="fullName"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                               required placeholder="Enter your full name" aria-describedby="fullNameHelp"
                               aria-required="true" title="Full name is required" pattern="[A-Za-z]{2,50}">
                    </div>
                    <div class="mb-4 grid-item">
                        <label for="addressLine1" class="block text-sm font-medium text-gray-700">Address Line 1</label>
                        <input type="text" id="addressLine1" name="addressLine1"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                               required placeholder="Enter your street address" aria-describedby="addressLine1Help"
                               aria-required="true" title="Address line 1 is required" pattern="[A-Za-z0-9]{2,50}">
                    </div>
                    <div class="mb-4 grid-item">
                        <label for="district" class="block text-sm font-medium text-gray-700">District</label>
                        <input type="text" id="district" name="district"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                               required placeholder="Enter your district" aria-describedby="districtHelp"
                               aria-required="true" title="District is required" pattern="[A-Za-z]{2,50}">
                    </div>
                </div>
                <!-- Overseas Address Fields -->
                <div id="overseas" class="tab-panel hidden">
                    <div class="mb-4 grid-item">
                        <label for="fullNameOverseas" class="block text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" id="fullNameOverseas" name="fullNameOverseas"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                               required placeholder="Enter your full name">
                    </div>
                    <div class="mb-4 grid-item">
                        <label for="addressLine1Overseas" class="block text-sm font-medium text-gray-700">Address Line
                            1</label>
                        <input type="text" id="addressLine1Overseas" name="addressLine1Overseas"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                               required placeholder="Enter your street address">
                    </div>
                    <div class="mb-4 grid-item">
                        <label for="city" class="block text-sm font-medium text-gray-700">City</label>
                        <input type="text" id="city" name="city"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                               placeholder="Enter your city or town if applicable">
                    </div>
                    <div class="mb-4 grid-item">
                        <label for="state" class="block text-sm font-medium text-gray-700">State</label>
                        <input type="text" id="state" name="state"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                               placeholder="Enter your state or province">
                    </div>
                    <div class="mb-4 grid-item">
                        <label for="zipCode" class="block text-sm font-medium text-gray-700">Zip Code</label>
                        <input type="text" id="zipCode" name="zipCode"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                               placeholder="Enter your zip code if applicable">
                    </div>
                </div>
            </div>
            <!-- Submit Button -->
            <button type="submit"
                    class="mt-6 w-full bg-indigo-600 border border-transparent rounded-md py-3 px-4 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-offset-gray focus:ring-indigo ring-opacity ring-offset rounded-md shadow-sm transition duration-150 ease-in-out">
                Confirm Order
            </button>
        </form>
    </div>
</main>
</body>