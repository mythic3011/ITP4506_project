<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>403 Forbidden | Legend Motor Limited</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta
      name="Description"
      content="Error page for the Legend Motor Limited"
    />
    <meta name="Author" content="mythic3011,steven" />
    <meta name="Keywords" content="Error page, Legend Motor Limited" />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="generator" content="Legend Motor Limited" />
    <meta
      name="copyright"
      content="Copyright &copy; 2024 Legend Motor Limited"
    />
    <meta name="revisit-after" content="1 days" />
    <link
      rel="icon"
      href="../resources/image/SLMC_Icon_login.jpg"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../resources/css/index.css" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp,container-queries
"></script>
    <script src="../resources/js/script.js"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#eff6ff",
                100: "#dbeafe",
                200: "#bfdbfe",
                300: "#93c5fd",
                400: "#60a5fa",
                500: "#3b82f6",
                600: "#2563eb",
                700: "#1d4ed8",
                800: "#1e40af",
                900: "#1e3a8a",
                950: "#172554",
              },
            },
          },
          fontFamily: {
            body: [
              "Inter",
              "ui-sans-serif",
              "system-ui",
              "-apple-system",
              "system-ui",
              "Segoe UI",
              "Roboto",
              "Helvetica Neue",
              "Arial",
              "Noto Sans",
              "sans-serif",
              "Apple Color Emoji",
              "Segoe UI Emoji",
              "Segoe UI Symbol",
              "Noto Color Emoji",
            ],
            sans: [
              "Inter",
              "ui-sans-serif",
              "system-ui",
              "-apple-system",
              "system-ui",
              "Segoe UI",
              "Roboto",
              "Helvetica Neue",
              "Arial",
              "Noto Sans",
              "sans-serif",
              "Apple Color Emoji",
              "Segoe UI Emoji",
              "Segoe UI Symbol",
              "Noto Color Emoji",
            ],
          },
        },
      };
    </script>
  </head>
  <body
    class="bg-white text-gray-900 mx-auto font-sans dark:bg-slate-900"
    onload="Redirect()"
  >
    <script>
      if (
        document.referrer === "" ||
        !document.referrer.includes(window.location.hostname)
      ) {
        window.location.href = "../index.php";
      } else {
        // redirect to previous page
        //window.location.href = document.referrer.split('?')[0];
        redirectToPrePreviousPage();
      }
      // Function to redirect to the pre-previous page
      function redirectToPrePreviousPage() {
        var historyArr =
          JSON.parse(sessionStorage.getItem("pageHistory")) || [];
        if (historyArr.length >= 3) {
          // Get the pre-previous page URL
          var prePreviousPageUrl = historyArr[historyArr.length - 3];
          // Check if the URL is from the same domain
          var url = new URL(prePreviousPageUrl);
          if (url.hostname === window.location.hostname) {
            // Redirect to the pre-previous page
            window.location.href = prePreviousPageUrl;
          } else {
            console.log("The pre-previous page is not from the same domain.");
          }
        } else {
          console.log("No pre-previous page found in the history.");
        }
      }

      function Redirect() {
        var countdownElement = document.getElementById("countdown-text");
        var timeLeft = parseInt(countdownElement.innerHTML);
        if (isNaN(timeLeft)) {
          console.error("Invalid countdown value");
          return;
        }
        var countdownTimer = setInterval(function () {
          var seconds = timeLeft % 60;
          countdownElement.innerHTML = seconds + "s";
          if (timeLeft === 0) {
            clearInterval(countdownTimer);
            window.location.href = "../index.php";
          }
          timeLeft--;
        }, 1000);
      }
    </script>
    <main>
      <div
        class="container px-16 py-16 mt-20 mb-20 mx-auto dark:text-white"
        onload="checkUserThemePreference()"
      >
        <div class="text-center">
          <!-- Logo of the webpage -->
          <img
            alt="logo"
            class="mx-auto w-32 h-32 mb-4 transition-all duration-300 ease-in-out cursor-pointer"
            src="../resources/image/SLMC_Icon_login.jpg"
          />
          <!-- Text displayed on the webpage -->
          <span class="logintext mb-4 text-lg">403 Forbidden</span>
        </div>
        <!-- Form for user login -->
        <p
          class="mt-5 mb-5 p-4 pb-4 rounded-2xl text-left flex flex-col 2xl:col-span-2 col:col-span-1 justify-center items-center dark:shadow-none dark:bg-shadow-8 dark:text-white"
        >
          <label
            class="text-sm font-bold mb-2 pr-2 pl-2 pt-2 mb-2 py-4 dark:text-white"
          >
            You are not authorized to access this page
          </label>
          <br />
          <label
            class="text-sm font-bold mb-2 pr-2 pl-2 pt-2 mb-2 py-4 dark:text-white"
          >
            Please contact the administrator
          </label>
          <br />
          <label
            class="text-sm font-bold mb-2 pr-2 pl-2 pt-2 mb-2 py-4 dark:text-white"
            id="countdown"
          >
            <span id="countdown-text">5</span> seconds left
          </label>
        </p>
        <!-- Footer of the webpage -->
        <footer class="container px-8 py-8 mt-20 mb-20 mx-auto">
          <div class="text-center">
            <!-- Copyright notice -->
            <span
              class="text-black text-sm font-bold mb-2 pr-2 pl-2 pt-2 mb-2 py-4 dark:text-white"
            >
              Copyright &copy; 2024 Legend Motor Limited
            </span>
          </div>
        </footer>
      </div>
    </main>
  </body>
</html>
